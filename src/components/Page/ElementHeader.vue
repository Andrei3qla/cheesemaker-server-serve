<template>
  <header>
    <section class="section header">
      <div class="container">
        <div class="centered">
          <a href="" class="logo">
            <img
              class="logo"
              id="logo"
              alt="Логотип компании Славный сыровар."
              src="/allImage/logo/logo_no_text.png"
            />
          </a>
          <nav class="header-nav">
            <transition name="fade">
              <div class="header-list-mobile" v-show="menuMobile">
                <a href="#/products" class="header-link"> Продукция </a>
                <a href="#/admin" class="header-link"> Админка </a>
                <a href="#/cheesemaker" class="header-link"> Сыровар </a>
                <a href="#/cheesemaker-orders" class="header-link">
                  Заказы в обработке
                </a>
                <a href="#/delivery" class="header-link"> Адреса </a>
              </div>
            </transition>
            <div class="header-list desctop">
              <a href="#/products" class="header-link"> Продукция </a>
              <a v-if="isAdmin" href="#/admin" class="header-link"> Админка </a>
              <a href="#/cheesemaker" class="header-link"> Сыровар </a>
              <a href="#/cheesemaker-orders" class="header-link">
                Заказы в обработке
              </a>
              <a href="#/delivery" class="header-link"> Адреса </a>
            </div>
            <div class="header-list-item">
              <div class="header-list-item-item">
                <a class="header-link-icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    viewBox="0 0 595.28 841.89"
                    @click="toggleLogin"
                  >
                    <g>
                      <g>
                        <path
                          class="st0"
                          d="M370.52,367.55c-11.01-8.36-24.19-14.52-36.94-20.48c-1.53-0.71-3.05-1.42-4.55-2.13
			c-9.73-4.58-21.49-9.48-34.97-11.06c-0.81-0.09-1.77-0.22-2.85-0.36c-11.68-1.51-24.6-2.79-30.14,1.23
			c-3.8,2.76-6.08,8.29-8.09,13.16c-0.91,2.21-1.77,4.3-2.67,5.91c-5.69,10.14-10,19.9-14.56,30.25c-0.83,1.86-1.66,3.75-2.51,5.67
			c-1.85,4.14-3.81,8.32-5.71,12.36c-3.54,7.57-7.21,15.39-10.29,23.33c-3.37,8.73-2.45,18.36-1.55,27.69c0.3,3.12,0.58,6.07,0.71,9
			c0.07,1.56,1.12,3.36,2.99,3.77c4.07,0.88,5.19,3.69,5.41,5.9c0.42,4.31-2.28,9.15-6.02,10.77c-1.27,0.55-2.22,2.17-2.12,3.61
			c0.11,1.45,0.15,3,0.19,4.64c0.17,6.48,0.36,13.82,4.73,17.21c1.55,1.2,3.52,1.81,5.88,1.81c1.23,0,2.56-0.17,4-0.49
			c6.47-1.49,12.94-3.67,19.19-5.78c5.59-1.89,11.38-3.84,17.12-5.27c7.65-1.91,15.39-3.95,22.88-5.92l5.88-1.54
			c4.22-1.11,8.45-2.2,12.67-3.28c12.41-3.19,25.24-6.48,37.74-10.31c1.94-0.59,4.26-1.13,6.72-1.7c10.18-2.36,22.85-5.3,24.95-15.6
			c0.19-0.47,0.28-0.99,0.27-1.52c-0.2-12.11-0.42-25.84,0.36-39.4c0.11-1.78-1.31-3.62-3.03-3.93c-4.2-0.77-6.66-3.18-6.76-6.6
			c-0.11-3.61,2.59-8.12,7.78-9.39c1.68-0.4,2.92-2,2.95-3.8c0.03-1.63,0.09-3.13,0.13-4.52c0.06-1.74,0.12-3.34,0.12-4.82
			C380.43,378.71,379.09,374.06,370.52,367.55z M233.23,408.56l0.4-0.85c2.48-5.34,4.93-10.74,7.31-15.97
			c6.23-13.71,12.67-27.88,19.79-41.55c0.34-0.65,0.69-1.42,1.05-2.24c0.9-2.02,2.14-4.78,3.44-5.7c1.46-1.02,3.63-1.06,6.13-1.09
			c0.68-0.02,1.37-0.03,2.07-0.06c2.11-0.09,4.16-0.13,6.18-0.13c12.08,0,22.52,1.62,31.74,4.91c11.89,4.24,23.39,10.42,34.52,16.39
			c1.49,0.8,2.97,1.59,4.44,2.38c0.86,0.45,1.75,0.92,2.68,1.4c5.61,2.92,12.47,6.49,16.54,11.28c-6.41,2.82-12.85,5.78-19.08,8.64
			c-7.4,3.4-15.05,6.92-22.66,10.21c-3.79-4.58-10-6.86-17.26-6.29c-8.76,0.7-16.46,5.31-19.62,11.74
			c-0.25,0.51-0.29,1.07-0.34,1.79c-0.08,1.13-0.18,2.53-1.1,3.38c-0.45,0.41-0.92,0.58-1.09,0.64c-9.66,3.55-15.93,5.72-18.95,6.76
			c-1.18,0.41-1.93,0.67-2.29,0.8c-11.96,4.51-25.33,8.86-41.92,13.62C227,421.99,229.92,415.71,233.23,408.56z M322.21,402
			c-0.96,5.47-6.34,10.71-12.25,11.81c-4.66,0.87-8.6-0.68-13.05-5.21c1.27-5.6,7.32-9.58,12.88-10.67
			C315.2,396.87,319.79,398.39,322.21,402z M372.41,390.89c-0.21,0.66-0.36,1.21-0.47,1.68c-0.6,0.22-1.19,0.46-1.76,0.74
			c-1.3,0.62-2.55,1.42-3.67,2.3c-1.13,0.88-2.11,1.85-2.86,2.83c-3.78,4.97-3.67,13.11,0.25,18.53c2.17,3.01,5.03,4.64,7.34,5.52
			l-0.28,35.86c-0.63,5.07-14.82,8.48-21.66,10.12c-1.85,0.44-3.45,0.82-4.54,1.16l-1.17,0.36c-6.76,2.07-13.75,4.21-20.68,6.02
			c-21.74,5.67-39.91,10.32-57.18,14.62c-1.42,0.36-2.85,0.7-4.27,1.05c-4.06,0.98-8.26,2-12.35,3.24c-1.7,0.51-3.77,1.44-5.96,2.42
			c-3.92,1.76-8.36,3.76-11.25,3.63c-5.33-0.21-6.04-3.36-6.75-8.49c-0.09-0.59-0.17-1.17-0.26-1.73c-0.02-0.14-0.16-1.21-0.25-2.2
			c0.15-0.17,0.32-0.37,0.51-0.59c5.86-7.17,8.39-13.12,7.73-18.21c-0.45-3.48-2.38-6.49-5.74-8.94c-0.54-0.39-1.19-0.66-1.82-0.92
			c-0.41-0.17-1.11-0.46-1.26-0.63l-0.08-0.09c0,0-0.26-0.26-0.46-0.55c-1.01-1.46-1.1-5.78-1.15-8.37
			c-0.01-0.5-0.02-0.96-0.04-1.37c-0.07-2.11-0.29-3.8-0.47-5.16c-0.36-2.72-0.46-3.89,0.47-5.33c0.21-0.33,0.46-0.64,0.73-0.93
			c8.09-2.82,15.01-5.2,20.4-7.04c10.93-3.74,18.82-6.45,28.84-9.73c6.42-2.11,12.93-4.19,19.34-6.2
			c7.09,6.99,14.77,9.14,22.83,6.38c7.62-2.6,13.7-9.36,15.36-16.98c8.19-3.51,16.39-7.28,24.32-10.93
			c6.15-2.83,12.5-5.74,18.81-8.53C373.29,386.5,373.1,388.63,372.41,390.89z"
                        />
                      </g>
                      <g>
                        <path
                          class="st0"
                          d="M299.74,354.84c-3.33-4.58-11.13-5.71-14.38-5.99c-8.91-0.41-19.49,2.23-22.43,10.96
			c-1.24,3.66-0.7,7.22,1.51,10.02c2.49,3.15,6.84,5.05,11.38,5.05c0.48,0,0.97-0.02,1.46-0.06c5.74-0.52,11.11-2.95,14.65-4.73
			l0.63-0.32c3.16-1.57,7.48-3.72,8.45-7.87C301.63,359.23,301.21,356.85,299.74,354.84z M270.64,363.38c0-0.01,0-0.01,0-0.02
			c0-1.51,1-3.16,2.54-4.2c2.41-1.64,5.75-2.44,10.12-2.44c0.6,0,1.22,0.01,1.86,0.04c4.2,0.36,7.02,1.54,7.32,2.47
			c0.12,0.38-0.29,1.29-1.83,2.6c-2.27,1.91-6.4,3.59-11.63,4.72c-2.24,0.5-4.79,0.92-6.65-0.31
			C271.23,365.5,270.65,364.53,270.64,363.38z"
                        />
                      </g>
                      <g>
                        <path
                          class="st0"
                          d="M272.91,393.34c-2.6-3.5-8.26-4.33-10.63-4.53c-6.48-0.31-14.16,1.7-16.32,8.28
			c-0.94,2.87-0.49,5.68,1.27,7.9c1.91,2.41,5.22,3.88,8.63,3.88c0.34,0,0.68-0.02,1.02-0.05c4.1-0.35,7.9-2.07,10.41-3.33
			l0.22-0.11c2.45-1.23,5.8-2.91,6.52-6.33C274.49,396.88,274.11,394.96,272.91,393.34z M265.46,397.36
			c-0.09,0.1-0.22,0.23-0.4,0.38c-1.36,1.19-3.98,2.24-7.37,2.97c-1.32,0.29-2.68,0.52-3.45-0.01c-0.52-0.36-0.58-0.68-0.58-0.89
			c0-0.54,0.45-1.22,1.13-1.69c1.72-1.19,4.07-1.44,6.01-1.44c0.45,0,0.88,0.02,1.28,0.04C264.1,396.89,265.04,397.17,265.46,397.36
			z"
                        />
                      </g>
                      <g>
                        <path
                          class="st0"
                          d="M346.88,368.9c-2.92-3.99-9.53-4.95-12.29-5.19c-7.54-0.35-16.5,1.94-18.99,9.46
			c-1.07,3.22-0.58,6.36,1.38,8.83c2.16,2.74,5.92,4.39,9.83,4.39c0.4,0,0.8-0.02,1.21-0.06c5.6-0.49,18.43-3.99,20.03-11.14
			C348.59,372.81,348.19,370.69,346.88,368.9z M323.3,376.26c0-0.97,0.68-2.07,1.75-2.8c2.8-1.91,6.7-1.96,9.34-1.83
			c3.56,0.3,5.05,1.1,5.21,1.4c0,0.01-0.05,0.46-1.13,1.39c-1.74,1.5-5.02,2.82-9.23,3.74c-1.7,0.37-3.61,0.69-4.86-0.15
			C323.67,377.53,323.31,376.94,323.3,376.26z"
                        />
                      </g>
                      <g>
                        <path
                          class="st0"
                          d="M347.07,439.39c-3.04-4.32-7.61-5.15-11.68-5.4h-0.11l-0.12,0.01c-8.91,0.82-18.25,7.27-18.44,16.65
			c-0.21,9.87,9.01,16.6,17.66,17.17c0.32,0.03,0.65,0.04,0.97,0.04c7.77,0,14.59-6.17,15.76-14.45
			C351.78,448.64,350.54,444.31,347.07,439.39z M341.29,456.96c-1.13,1.57-3.26,3.34-6.99,2.89c-4.9-0.6-9.85-4.17-9.67-9.11
			c0.19-5.02,6.4-8.38,10.7-8.83c3.96,0.28,5.88,2.62,6.79,4.54C343.69,449.77,343.35,454.09,341.29,456.96z"
                        />
                      </g>
                      <g>
                        <path
                          class="st0"
                          d="M280.5,446.86c-1.1-6.55-6.63-11.09-13.34-11.09c-0.34,0-0.68,0.02-1.03,0.04c-0.15,0.01-0.28,0.04-0.38,0.07
			c-0.12,0-0.33,0.01-0.55,0.06c-5.18,1.32-9.61,4.38-11.83,8.19c-1.66,2.84-2.07,6.04-1.19,9.27c1.16,4.25,4.46,8.43,8.41,10.63
			c1.99,1.11,4.04,1.67,6.04,1.67c1.02,0,2.02-0.14,3-0.43C277,463.09,281.61,453.42,280.5,446.86z M272.78,449.21
			c0,3.01-2.03,5.81-4.09,7.51c-0.91,0.75-1.89,1-3,0.76c-2.2-0.48-4.35-2.77-5.34-4.79c-0.74-1.5-0.81-2.87-0.22-4.18
			c0.91-2.02,3.53-3.88,6.7-4.79c2.01,0,4.66,0.83,5.54,3.21C272.65,447.69,272.78,448.46,272.78,449.21z"
                        />
                      </g>
                    </g>
                  </svg>
                </a>
              </div>
              <a href="#/cart" class="header-link-icon">
                <svg
                  version="1.1"
                  id="Capa_1"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  viewBox="0 0 299.915 299.915"
                  xml:space="preserve"
                >
                  <g>
                    <path
                      d="M293.494,53.616H55.701c-0.463,0-0.88,
                    0.174-1.318,0.27l-9.672-32.115c-0.109-0.347-0.341-0.604-0.495-0.925
              c-0.264-3.303-2.956-5.919-6.324-5.919c-0.006,0-0.019,
              0-0.026,0L6.401,15.061C2.847,15.081-0.013,17.973,0,21.52
              c0.013,3.541,2.886,6.401,6.427,6.401c0.006,0,0.019,0,
              0.026,0l26.652-0.116l61.524,204.187
              c-6.112,5.585-10.013,13.541-10.013,22.468c0,16.858,13.663,30.527,
              30.527,30.527c16.858,0,30.527-13.67,30.527-30.527
              c0-4.396-0.964-8.548-2.635-12.32h88.819c-1.671,3.773-2.635,7.924-2.635,
              12.32c0,16.858,13.663,30.527,30.527,30.527
              c16.858,0,30.527-13.67,30.527-30.527s-13.67-30.527-30.527-30.527c-6.401,
              0-12.333,1.986-17.243,5.354H132.38
              c-4.91-3.368-10.836-5.354-17.237-5.354c-3.181,0-6.189,0.623-9.075,
              1.523l-9.178-30.45l161.918-0.129
              c2.834,0,5.167-1.87,6.016-4.422c0.219-0.405,0.456-0.797,
              0.585-1.26l34.274-126.39c0.219-0.803,0.244-1.607,0.154-2.384
              c0.006-0.135,0.077-0.244,0.077-0.373C299.921,56.495,297.042,
              53.616,293.494,53.616z M259.753,236.781
              c9.749,0,17.674,7.924,17.674,17.674c0,9.749-7.924,17.674-17.674,
              17.674c-9.75,0-17.674-7.924-17.674-17.674
              C242.08,244.705,250.004,236.781,259.753,236.781z M115.15,236.781c9.75,0,17.674,
              7.924,17.674,17.674
              c0,9.749-7.924,17.674-17.674,17.674s-17.674-7.924-17.674-17.674C97.476,244.705,
              105.4,236.781,115.15,236.781z M254.04,182.03
              l-161.011,0.129L58.176,66.476h227.201L254.04,182.03z"
                    />
                  </g>
                </svg>
              </a>
              <a
                class="header-link-icon menu"
                @click="toggleMenu"
                v-click-outside="onClickOutsideMenu"
              >
                <svg
                  version="1.1"
                  width="40px"
                  id="Capa_1"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  viewBox="0 0 612 612"
                  xml:space="preserve"
                >
                  <path
                    d="M61.2,122.4h489.6c33.782,0,61.2-27.387,
                  61.2-61.2S584.613,0,550.8,0H61.2C27.387,0,0,27.387,0,61.2
      S27.387,122.4,61.2,122.4z M550.8,244.8H61.2C27.387,244.8,0,272.187,0,306c0,
      33.812,27.387,61.2,61.2,61.2h489.6
      c33.782,0,61.2-27.388,61.2-61.2C612,272.187,584.613,244.8,550.8,
      244.8z M550.8,489.6H61.2C27.387,489.6,0,516.987,0,550.8
      C0,584.613,27.387,612,61.2,612h489.6c33.782,0,61.2-27.387,
      61.2-61.2C612,516.987,584.613,489.6,550.8,489.6z"
                  />
                </svg>
              </a>
            </div>
            <transition name="fade">
              <div
                class="cart cart-sucsess login"
                id="login-form"
                v-if="loginBar"
              >
                <div v-click-outside="onClickOutsideLogin">
                  <div class="text-centered margin-10-0">
                    <p class="title-3 text-centered">Логин</p>
                    <input
                      type="text"
                      id="name"
                      class="input"
                      placeholder="Название"
                    />
                  </div>
                  <div class="text-centered">
                    <p class="title-3 text-centered">Пароль</p>
                    <input
                      type="password"
                      id="name"
                      class="input"
                      placeholder="Название"
                    />
                    <input
                      class="btn"
                      type="submit"
                      form="login"
                      value="Принять"
                    />
                  </div>
                </div>
                <div>
                  <div class="margin-10-0">
                    <h3 class="title-3">Добрый день userName!</h3>
                    <p class="title-3">Изменить статус заказа:</p>
                  </div>
                  <p class="paragraph">В обработке</p>
                  <button class="btn">Отменить заказ</button>
                  <button class="btn">Выйти</button>
                </div>
              </div>
            </transition>
          </nav>
        </div>
      </div>
      <div class="border-bottom"></div>
    </section>
  </header>
</template>
<script>
import vClickOutside from 'click-outside-vue3';
import { mapGetters } from 'vuex';

export default {
  name: 'ElementHeader',
  data() {
    return {
      isAdmin: '',
      loginBar: false,
      menuMobile: false,
    };
  },
  computed: {
    ...mapGetters['ISADMIN'],
  },
  mounted() {
    this.isAdmin = this.$store.state.isAdmin;
  },
  methods: {
    toggleMenu() {
      this.menuMobile = !this.menuMobile;
    },
    toggleLogin() {
      this.loginBar = !this.loginBar;
    },
    onClickOutsideMenu() {
      if (this.menuMobile == true) {
        this.menuMobile = !this.menuMobile;
      }
    },
    onClickOutsideLogin() {
      if (this.loginBar == true) {
        this.loginBar = !this.loginBar;
      }
    },
  },
  directives: {
    clickOutside: vClickOutside.directive,
  },
};
</script>
